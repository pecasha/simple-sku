function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e){var i=function(e,i){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,i||"default");if("object"!==t(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(e,"string");return"symbol"===t(i)?i:String(i)}function i(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function n(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,i(t,e,"get"))}function s(t,e,n){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,i(t,e,"set"),n),n}function r(t,e){var i=new Set(e);return t.filter((function(t){return!i.has(t)}))}function l(t,e){a(t,e),e.add(t)}function o(t,e,i){a(t,e),e.set(t,i)}function a(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function h(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var u=new WeakMap,f=new WeakMap,c=new WeakMap,p=new WeakMap,b=new WeakMap,w=new WeakMap,v=new WeakMap,m=new WeakSet,y=new WeakSet,d=new WeakSet,k=new WeakSet,S=new WeakSet,g=new WeakSet,W=new WeakSet;class E{constructor(t){var i,n,r;l(this,W),l(this,g),l(this,S),l(this,k),l(this,d),l(this,y),l(this,m),i=this,r=void 0,(n=e(n="options"))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,o(this,u,{writable:!0,value:0}),o(this,f,{writable:!0,value:{}}),o(this,c,{writable:!0,value:[]}),o(this,p,{writable:!0,value:[]}),o(this,b,{writable:!0,value:[]}),o(this,w,{writable:!0,value:[]}),o(this,v,{writable:!0,value:void 0}),this.options=t,s(this,f,t.items),t.depth&&s(this,u,t.depth),h(this,m,j).call(this)}set(t,e){n(this,c)[t]=e,h(this,d,M).call(this),h(this,k,O).call(this)}unset(t){n(this,c)[t]=null,h(this,d,M).call(this),h(this,k,O).call(this)}}function j(){var t,e;const i=Object.keys(n(this,f)).map(Number);if(!n(this,u))for(let t of i){if(n(this,u))break;s(this,u,n(this,f)[t].split("_").length)}for(let t=0;t<n(this,u);t++)n(this,c)[t]=null,n(this,p)[t]=[];for(let t of i)n(this,f)[t].split("_").map(Number).forEach(((t,e)=>{!n(this,p)[e].includes(t)&&t>-1&&n(this,p)[e].push(t)}));null===(t=(e=this.options).callback)||void 0===t||t.call(e,Array(n(this,u)).fill([]),null)}function N(){for(let t=0;t<n(this,u);t++)n(this,w)[t]=[]}function M(){for(let t=0;t<n(this,u);t++)n(this,b)[t]=[]}function O(){var t,e;let i=0;n(this,c).forEach(((t,e)=>{null===t&&n(this,p)[e].length||i++})),h(this,g,_).call(this,i);let s=null;if(i===n(this,u)){const t=h(this,S,T).call(this,n(this,c));for(let e of Object.keys(n(this,f)).map(Number))t.test(n(this,f)[e])&&(s=e)}null===(t=(e=this.options).callback)||void 0===t||t.call(e,n(this,b),s)}function T(t){const e=[];for(let s=0;s<n(this,u);s++){let n="[0-9]+";var i;if(s in t)n=(null===(i=t[s])||void 0===i?void 0:i.toString())||"0";e.push(n)}return new RegExp(e.join("_"))}function _(t,e=[],i=0){if(!t)return!1;for(let r=i;r<n(this,u);r++){const i=(s=e,JSON.parse(JSON.stringify(s)));null!==n(this,c)[r]&&(i[r]=n(this,c)[r],i.length<=t&&h(this,g,_).call(this,t,i,r+1),h(this,W,P).call(this,h(this,S,T).call(this,i),i))}var s;return!1}function P(t,e){h(this,y,N).call(this);for(let e of Object.keys(n(this,f)).map(Number)){const i=n(this,f)[e];t.test(i)&&i.split("_").map(Number).forEach(((t,e)=>{n(this,w)[e].includes(t)||n(this,w)[e].push(t)}))}for(let t in n(this,w))if(!(t in e))for(let e of r(n(this,p)[t],n(this,w)[t]))n(this,b)[t].includes(e)||n(this,b)[t].push(e)}export{E as default};
